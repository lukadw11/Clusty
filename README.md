# Clusty

## Overview
The **clusty** package is used for evaluating distance-based clustering with non-overlapping cluster membership in R programming language. Specifically, it was designed for assessing k-means clustering with distance matrix heat maps, as the objective function is based on distance. Effective clustering is thus where instances within clusters are significantly similar (small distance) and instances between clusters are significantly differentiated (large distance). Using a heat map of cluster distances, a highly ranked diagonal in the **summaryheat** function is characterized by strong intra-cluster homogeneity; a highly ranked upper or lower triangle of the heat map is characterized by strong inter-cluster heterogeneity. The distance metrics used to describe the clusering in this heat map can be extracted and inspected using **bigextract**. Rather than summarizing the average distance within clusters and creating metrics from these averages (as is done in summaryheat), **bigheat** uses condensed instance vectors to visualize the clustering (i.e. intra-cluster homogeneity and inter-cluster heterogeneity) at the instance level. This provides a granular look at how well differentiated instance vectors are within and between clusters. 

## Functions and their uses
- **bigheat:** Let's say you just completed k-means clustering on a data-set with comparable numeric features. As per the objective function, k-means will group these instance vectors into k groups that minimize the within cluster sum of squares distance. This is normally determined by a WCSS elbow plot prior to clustering to select k. However, such a choice of k provides no information as to the structure of the clustering that will result. *How alike are instances within each cluster? How different are instances between clusters? Roughly what proportion of a cluster is "very similar", i.e. how consistent is the similarity within clusters?* Bigheat produces a distance matrix heat map at the instance level to help answer these questions heuristically. The function can handle large data-sets by condensing instance vectors into aggregated summary instances (e.g. 10,000 customers with merge=10 produces 1,000 instance vectors). This permits high dimensional visualizaiton and reduces computational complexity. The function provides a beautiful visual of the overall clustering, within-cluster homogeneity, and between-cluster heterogeneity, and can thus be used as a comprehensive heuristic evaluation tool.
![bigheat_samples](https://cloud.githubusercontent.com/assets/16897939/18616774/4db7677e-7db9-11e6-9680-9fabf114ba3f.PNG)

- **summaryheat:** While bigheat provides a visual assessment for granular instance-level clustering, summaryheat takes the underlying structure of the large distance matrix used to create bigheat to visually summarize the level of differentiation between clusters and similarity within clusters. *Which clusters have instances that are the most similar (i.e. the smallest WCSS)? Which clusters are most differentiated (i.e. in comparing instances in clusters X and Y, how different are they overall?)?* Summaryheat ranks the diagonal of the distance heat map by the most to the least homogenous; thus, rank 1 corresponds to the cluster with the most similar instance vectors. The upper left and lower right trianglular matrices in contrast is ranked by the level of heterogeneity or differentiation; thus, rank 1 corresponds to the most significantly differentiated pair of clusters. This is useful because we cannot infer between cluster differentiation directly from the level of similarity within a cluster. 
![summaryheat_sample](https://cloud.githubusercontent.com/assets/16897939/18616789/85abc72e-7db9-11e6-962d-08586f505d3a.png)

- **bigextract:** Each square within the distance heat map output from summaryheat corresponds to a group of instance vectors either between clusters or within a single cluster. The metrics used to compare these squares in summaryheat can be extracted using bigextract (e.g. mean distance between instance vectors, the number of instances being compared, etc.). While the previous two functions create heat maps, bigextract produces a data frame where each instance corresponds to a square of the heat matrix from summaryheat and the corresponding distance metrics derived from the feature vectors. The first observation in the data frame correpsonds to the bottom left cluster square. The next observation corresponds to the second cluster comparison (i.e. the square above the first bottom left cluster square).
![summaryheatp](https://cloud.githubusercontent.com/assets/16897939/22271308/66b15fd2-e259-11e6-9149-bcd7398f5733.PNG)

## Use Package in R
install_github("lukadw11/clusty") #package "devtools" must be downloaded first

## License
This package is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License, version 3, as published by the Free Software Foundation. This program is distributed in the hope that it will be useful, but without any warranty; without even the implied warranty of merchantability or fitness for a particular purpose. See the GNU General Public License for more details. A copy of the GNU General Public License, version 3, is available at http://www.r-project.org/Licenses/GPL-3
